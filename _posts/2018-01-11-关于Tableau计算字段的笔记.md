---
layout: article
title:  "关于Tableau计算字段的小知识"
date:   2017-01-11 21:14:24 +0800
categories: infovis
image:
  teaser: cal.jpg
  feature: cal.jpg
---

## Tableau计算字段
1. 什么时候可以使用计算字段？
- 将数据分段
- 转换字段的数据类型，例如将字符串转换为日期
- 聚合数据
- 筛选结果
- 计算比率
2. 有什么计算类型呢？
- 基本计算：基本计算允许您在数据源详细信息级别（行级别计算）或可视化项详细信息级别（聚合计算）转换值或成员。
- 详细信息级别 (LOD) 表达式：就像基本计算一样，LOD 计算允许您在数据源级别和可视化项级别计算值。但是，LOD 计算可以让您更好地控制要计算的粒度级别。它们可以在较高粒度级别（包括）、较低粒度级别（排除）或完全独立级别（固定）执行。
- 表计算：表计算仅允许您在可视化项详细信息级别转换值。
3. 怎样创建计算字段？
- 在 Tableau 中，选择“分析”>“创建计算字段”。
- 在打开的计算编辑器中，输入计算字段的名称。在本示例中，该字段称为“Discount Ratio（折扣率）”。执行以下操作：

```
IIF([Sales] !=0, [Discount]/[Sales],0)
```
此公式检查销售额是否不等于零。如果为 true，则返回折扣率（折扣/销售额）；如果为 false，则返回零。
- 完成后，单击“确定”。
- 把计算的字段添加到生成的视图当中
4. 怎样编辑计算字段？
- 在“数据”窗格中，右键单击计算字段，并选择“编辑”。
- 在打开的计算编辑器中，可以输入计算字段的名称和更新公式。
- 完成后单击确定，视图会进行更新以自动反映更改。您不需要将更新的计算字段重新添加到视图中。